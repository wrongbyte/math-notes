# Teorema de Bayes: pensando com estat√≠stica üêà‚Äç‚¨õ

Dado que tenhamos um dado de seis faces e o jogamos, sabemos que temos 6 poss√≠veis resultados, e sabemos tamb√©m que cada um desses resultados possui a mesma chance de ocorrer. 

Por exemplo, a probabilidade de obtermos o n√∫mero 6 √© igual a $$\frac{1}{6}$$.
Contudo, podemos fazer outras perguntas com base nas informa√ß√µes que temos. Qual √© a probabilidade de jogarmos nosso dado **duas vezes** e obtermos o n√∫mero 6 **nas duas vezes**?
### Regras b√°sicas: adi√ß√£o e multiplica√ß√£o
Para resolver o problema acima, podemos utilizar de duas regras b√°sicas de probabilidade, que envolvem a _adic√£o_ de probabilidades e a _soma_ de probabilidades.
Quando temos interesse na probabilidade de dois eventos **independentes** ocorrerem, ou seja, A e B, multiplicamos a probabilidade de ocorr√™ncia de cada um desses eventos:
```math
 P\left ( A\cap B \right ) = P\left ( A \right ) P\left ( B \right )
```

> :bulb: Note que dois eventos s√£o independentes quando a probabilidade da ocorr√™ncia de um n√£o afeta a probabilidade de ocorr√™ncia do outro. Falaremos mais sobre em seguida.

Logo, a probabilidade de tirarmos o n√∫mero seis duas vezes √© igual a:
```math
P = \frac{1}{6} \cdot \frac{1}{6} = \frac{1}{36}
```

Ou seja, a chance de tirarmos o n√∫mero 6 duas vezes √© 1 em 36. Por√©m, podemos mudar de ideia e nos perguntar: qual √© a probabilidade de jogarmos nosso dado duas vezes e obtermos o **n√∫mero 6 ou o n√∫mero 2**?

Note que temos uma diferen√ßa fundamental: na primeira pergunta, est√°vamos buscando a **probabilidade da ocorr√™ncia de dois eventos.** Aqui estamos buscando a probabilidade de **um evento ou outro**, que nesse caso √© dada pela f√≥rmula:
```math
 P\left ( A\cup  B \right ) = P\left ( A \right ) + P\left ( B \right ) - P\left ( A  \cap  B \right )
```

Ent√£o vamos calcular a probabilidade de ocorr√™ncia de $$A\cup  B$$:

```math
P = \frac{1}{6} + \frac{1}{6} - \frac{1}{36}
```
Mas espere: ao jogar o dado uma vez, podemos ter o n√∫mero 6 **ou** o n√∫mero 2, sem a possibilidade de obtermos dois n√∫meros **ao mesmo tempo.** Isso, na pr√°tica, significa que nossos dois eventos s√£o **mutuamente exclusivos** e portanto n√£o podemos ter a ocorr√™ncia de ambos ao mesmo tempo. Em suma, isso significa que $$P\left ( A  \cap  B \right ) = 0$$.
Ou seja:

```math
P = \frac{1}{6} + \frac{1}{6} = \frac{2}{3}
```
A probabilidade de tirarmos 2 ou 6 no nosso dado √© $$\frac{2}{3}$$.

## Fazendo perguntas mais complexas
Vamos jogar um jogo de advinha√ß√£o.

Supondo que jogamos o dado uma vez, e o resultado foi **um n√∫mero par**, qual a probabilidade desse n√∫mero ser 2?
A primeira etapa l√≥gica para resolver esse exerc√≠cio √© reduzir nosso espaco amostral de 
```math
S = \left\{ 1,2,3,4,5,6\right\} 
```
para
```math
S = \left\{ 2,4,6\right\} 
```

Ou seja, sabemos que dos seis n√∫meros iniciais, apenas tr√™s s√£o pares. Portanto, calculamos nossa probabilidade com base nessa informac√£o, obtendo o resultado $$\frac{1}{3}$$.

## Probabilidade condicional
Note que no √∫ltimo exemplo, o fato de reduzirmos os resultados poss√≠veis a _apenas os n√∫meros pares_ influenciou diretamente na probabilidade de obtermos o n√∫mero 2. Ela dobrou!
Temos nesse caso um exemplo de **probabilidade condicional**.

```math
P(A \mid B) = \frac{P(A \cap B)}{P(B)}
```
> :bulb: PS: a notac√£o $$P(A \mid B)$$ significa **a probabilidade de A dado B**. Por exemplo, a probabilidade de termos tirarmos o n√∫mero 2 **dado que** o n√∫mero que tiramos √© par.

Observe a f√≥rmula acima. Ela nos indica que a probabilidade de A, dado B, √© igual a probabilidade da ocorr√™ncia de **A e B** sobre a probabilidade da ocorr√™ncia de B. Nessa equac√£o, **assumimos que o evento B ocorreu**, ou seja, nosso espa√ßo amostral se torna reduzido. Como no √∫ltimo exemplo, se antes t√≠nhamos 6 n√∫meros poss√≠veis, agora passamos a ter apenas 3, porque **sabemos que o n√∫mero tirado √© um n√∫mero par.** Podemos dizer que essa √© uma _probabilidade a posteriori_, ou seja, uma probabilidade calculada ap√≥s sabermos novas informac√µes.

### Usando a f√≥rmula para calcular um caso simples
Vamos imaginar mais um cen√°rio com nosso dado de seis faces. 
Agora, vamos definir dois eventos.

Vamos definir P(A) como sendo a probabilidade de obtermos algum n√∫mero que pertenca ao conjunto A:
```math
A = \left\{ 1,2,3,4,5\right\} 
```
Podemos seguir a mesma l√≥gica com o conjunto B:
```math
B = \left\{3,4,5,6\right\} 
```
Agora vamos nos perguntar: qual o valor de $P(A \mid B)$?

Voc√™ pode ter percebido que esse √© um caso t√£o simples que n√£o necessita que usemos a f√≥rmula da probabilidade condicional, afinal se o evento B ocorreu, sabemos que nosso n√∫mero est√° no conjunto B, podendo ser 3,4,5 ou 6.
Nosso espaco amostral ent√£o se reduz ao conjunto B. Para calcular a probabilidade do evento A nesse cen√°rio, devemos considerar que s√≥ os n√∫meros {3,4,5} aparecem em B. Portanto, usando esse racioc√≠nio chegamos no resultado:
```math
P(A \mid B) = \frac{3}{4}
```
O que fizemos, indiretamente, foi seguir o mesmo passo a passo da f√≥rmula da probabilidade condicional:
```math
P(A \cap B) = \frac{3}{6}
```

```math
P(A \mid B) = \frac{P(A \cap B)}{P(B)} = \frac{\frac{3}{6}}{\frac{4}{6}} = \frac{3}{4}
```

## O teorema de Bayes
A f√≥rmula da probabilidade condicional que vimos possui uma propriedade interessante. Ao colocarmos a probabilidade da ocorr√™ncia de A e B em evid√™ncia:
```math
P(A \cap B) = P(B) \cdot P(A \mid B)
```
[Notamos que](https://www.hep.upenn.edu/~johnda/Papers/Bayes.pdf):
```math
P(B) \cdot P(A \mid B) = P(A) \cdot P(B \mid A)
```
e com isso chegamos na seguinte igualdade, tamb√©m chamada de **teorema de Bayes**:
```math
P(A \mid B) = \frac{P(A) \cdot P(B \mid A)}{P(B)}
```

Essa f√≥rmula √© equivalente a f√≥rmula da probabilidade condicional, e ambas s√£o usadas para calcularmos a probabilidade da ocorr√™ncia de um evento quando sabemos da ocorr√™ncia de outro evento. A diferenca fundamental √© que a f√≥rmula de Bayes nos d√° uma relac√£o que utiliza de outra probabilidade condicional. Parece muito abstrato? Vamos ver a aplicac√£o em alguns exemplos.

## Antes de prosseguir: a po√ß√£o da probabilidade total üîÆü™Ñ
Agora que j√° sabemos o que √© probabilidade condicional e como calcul√°-la, √© hora de imaginar um cen√°rio curioso: suponhamos que exista uma "po√ß√£o m√°gica da verdade". Essa po√ß√£o √© usada para descobrir quem √© culpado de algum crime;

![potion](https://community.akamai.steamstatic.com/economy/image/a5HYp9Sw61Iks7TiNF57DFqT7uTUsBt13CvwcWpsxqwUkg/360fx360f)

Contudo, esta po√ß√£o tem um funcionamento espec√≠fico: **ela funciona 90% das vezes quando aplicada em uma pessoa culpada e 99% das vezes quando aplicada em uma pessoa inocente**.

Dito isso, temos duas perguntas a responder:

1 - Qual √© a probabilidade de o soro dar a resposta certa?

2 - Se o soro indica ‚Äúculpado‚Äù, qual √© a probabilidade de o suspeito ser
inocente?

## Mais exemplos utilizando o teorema de Bayes na pr√°tica
TODO

### Refer√™ncias
https://byjus.com/maths/multiplication-rule-probability/#:~:text=What%20is%20the%20Multiplication%20Rule,given%20that%20event%20B%20occurs.

https://www.hep.upenn.edu/~johnda/Papers/Bayes.pdf

https://cesad.ufs.br/ORBI/public/uploadCatalago/10161710102012Probabilidade_e_Estatistica_aula_9.pdf
